<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: sans-serif; padding: 20px; background: #f9f9f9; }
    h1 { text-align: center; }
    form { max-width: 400px; margin: 0 auto; background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
    label { display: block; margin-top: 15px; }
    input, select, textarea {
      width: 100%; padding: 10px; margin-top: 5px;
      border: 1px solid #ccc; border-radius: 5px;
    }
    button {
      margin-top: 20px; width: 100%;
      padding: 10px; background: #4CAF50;
      color: white; border: none; border-radius: 5px;
      cursor: pointer;
    }
    button:hover { background: #45a049; }
  </style>
</head>
<body>
  <h1>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h1>
  <form id="order-form">
    <p id="product-name"></p>
    
    <label for="size">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–º–µ—Ä</label>
    <select id="size" name="size" required>
      <option value="">‚Äî</option>
      <option>36</option>
      <option>37</option>
      <option>38</option>
      <option>39</option>
      <option>40</option>
      <option>41</option>
      <option>42</option>
    </select>

    <label for="address">–ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏</label>
    <input type="text" id="address" name="address" required>

    <label for="comment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</label>
    <textarea id="comment" name="comment"></textarea>

    <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
  </form>

  <script>
    const params = new URLSearchParams(window.location.search);
    const product = params.get('product') || '–¢–æ–≤–∞—Ä';
    const brand = params.get('brand') || '';
    const category = params.get('category') || '';

    document.getElementById('product-name').textContent = –í—ã –∑–∞–∫–∞–∑—ã–≤–∞–µ—Ç–µ: ${brand} ${product};

    document.getElementById('order-form').addEventListener('submit', function(e) {
      e.preventDefault();

      const size = document.getElementById('size').value;
      const address = document.getElementById('address').value;
      const comment = document.getElementById('comment').value;

      const message = `
üõí –ù–æ–≤—ã–π –∑–∞–∫–∞–∑:
–¢–æ–≤–∞—Ä: ${brand} ${product}
–†–∞–∑–º–µ—Ä: ${size}
–ê–¥—Ä–µ—Å: ${address}
–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: ${comment}
–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ${category}
`;

      if (window.Telegram.WebApp) {
        Telegram.WebApp.sendData(message); // –ü–µ—Ä–µ–¥–∞—ë–º –±–æ—Ç—É
        Telegram.WebApp.close(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º WebApp
      } else {
        alert("Telegram WebApp API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Telegram.");
      }
    });
  </script>
</body>
</html>